# Converting CLIGS to ELTEC

The XSLT stylesheet `cligstoeltec.xsl` in this folder can be used to convert files in CLIGS format to something which is valid against the eltec-1 schema. The stylesheet needs access to an XML file containing metadata (`metadata.xml`) to find dates and a few other details.

The workflow is as follows:
 - convert supplied `metadata.csv` to `metadata.xml` (using  standard csvtotei command)
 - convert each xml file in folder `master` to a file of the same name in the folder `eltec` (lots of ways of doing this, but the quickest for me is at the command line:
 `saxon -s:master -o:eltec Scripts/cligstoeltec.xsl`
 - validate each resulting file against the schema `eltec-1.rng` (also quite a few ways: my preferred method is to make a driver file (which can then be tweaked to suppress invalid files temporarily) like that in `fulldriver.tei`

I stopped tweaking my stylesheet when the number of systematic errors dropped below 30 or so.  At that point, only 27 files (listed in `errorFiles.txt`) were being reported as invalid. This doesn't mean that the other 340 or so are all correct of course. 

